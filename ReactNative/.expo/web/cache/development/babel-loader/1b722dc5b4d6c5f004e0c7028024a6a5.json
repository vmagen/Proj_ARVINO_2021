{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\vmage\\\\OneDrive\\\\Ruppin\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\\\Proj_July_RN\\\\FunctionalComponents\\\\FCLogin.js\";\n\nimport React, { useState, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport styleSheet from \"../Pages/PageStyle\";\nimport { Text, Input, Button } from 'react-native-elements';\nimport headers from \"../helpers/messages.json\";\nimport { useNavigation } from '@react-navigation/native';\nimport { AuthContext } from \"../Componenets/AuthContext\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\n\nvar FCLogin = function FCLogin() {\n  var navigation = useNavigation();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useContext = useContext(AuthContext),\n      login = _useContext.login,\n      authenticated = _useContext.authenticated;\n\n  var goToHomePage = function goToHomePage() {\n    var result;\n    return _regeneratorRuntime.async(function goToHomePage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(email.length >= 3 && email.includes('@') && password.length >= 3)) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(login(email, password));\n\n          case 3:\n            result = _context.sent;\n\n            if (authenticated) {\n              navigation.navigate('Login', {\n                screen: 'questionere',\n                params: {\n                  email: email\n                }\n              });\n            } else {\n              navigation.navigate('Login', {\n                screen: 'signup'\n              });\n            }\n\n            _context.next = 8;\n            break;\n\n          case 7:\n            navigation.navigate('Login', {\n              screen: 'signup'\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var handleEmailChange = function handleEmailChange(val) {\n    setEmail(val);\n  };\n\n  var handlePasswordChange = function handlePasswordChange(val) {\n    setPassword(val);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: [styleSheet.container],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: 180\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    h4: true,\n    style: styleSheet.h4Text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"\\u05DB\\u05E0\\u05D9\\u05E1\\u05D4\")), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, React.createElement(Input, {\n    placeholder: headers.insertEmail,\n    rightIcon: {\n      type: 'font-awesome',\n      name: 'user'\n    },\n    inputContainerStyle: StyleSheet.input,\n    onChangeText: function onChangeText(value) {\n      handleEmailChange(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), React.createElement(Input, {\n    placeholder: headers.insertPassword,\n    rightIcon: {\n      type: 'font-awesome',\n      name: 'lock'\n    },\n    secureTextEntry: true,\n    inputContainerStyle: StyleSheet.input,\n    onChangeText: function onChangeText(value) {\n      handlePasswordChange(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    title: headers.login,\n    buttonStyle: [styleSheet.button, {\n      marginBottom: 30\n    }],\n    onPress: goToHomePage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default FCLogin;","map":{"version":3,"sources":["C:/Users/vmage/OneDrive/Ruppin/שנה ג/סמסטר ב/Proj_July_RN/FunctionalComponents/FCLogin.js"],"names":["React","useState","useContext","styleSheet","Text","Input","Button","headers","useNavigation","AuthContext","FCLogin","navigation","email","setEmail","password","setPassword","login","authenticated","goToHomePage","length","includes","result","navigate","screen","params","handleEmailChange","val","handlePasswordChange","container","marginTop","h4Text","insertEmail","type","name","StyleSheet","input","value","insertPassword","button","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  SafeAreaView\r\n} from 'react-native';\r\nimport styleSheet from '../Pages/PageStyle';\r\nimport { Text, Input, Button } from 'react-native-elements';\r\nimport headers from '../helpers/messages.json';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { AuthContext } from '../Componenets/AuthContext';\r\nimport { Alert } from 'react-native';\r\n\r\nconst FCLogin = () => {\r\n  const navigation = useNavigation();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { login, authenticated } = useContext(AuthContext);\r\n\r\n  const goToHomePage = async() => {\r\n    if (email.length >= 3 && email.includes('@') && password.length >= 3) {\r\n      const result = await login(email, password);\r\n      if (authenticated) {\r\n        navigation.navigate('Login', { screen: 'questionere', params:{\r\n          email: email\r\n        } });\r\n      }\r\n      else {\r\n        navigation.navigate('Login', {\r\n          screen: 'signup'\r\n        });\r\n      }\r\n    }\r\n    else {\r\n      navigation.navigate('Login', {\r\n        screen: 'signup'\r\n      });\r\n    }\r\n  }\r\n\r\n  const handleEmailChange = (val) => {\r\n    setEmail(val);\r\n  };\r\n\r\n  const handlePasswordChange = (val) => {\r\n    setPassword(val);\r\n  };\r\n\r\n\r\n  return (\r\n    <SafeAreaView style={[styleSheet.container]}>\r\n      <View style={{ marginTop: 180 }}>\r\n        <Text h4 style={styleSheet.h4Text}>כניסה</Text>\r\n      </View>\r\n      <View>\r\n        <Input\r\n          placeholder={headers.insertEmail}\r\n          rightIcon={{ type: 'font-awesome', name: 'user' }}\r\n          inputContainerStyle={StyleSheet.input}\r\n          onChangeText={value => { handleEmailChange(value) }}\r\n        />\r\n        <Input\r\n          placeholder={headers.insertPassword}\r\n          rightIcon={{ type: 'font-awesome', name: 'lock' }}\r\n          secureTextEntry={true}\r\n          inputContainerStyle={StyleSheet.input}\r\n          onChangeText={value => { handlePasswordChange(value) }}\r\n        />\r\n        <Button\r\n          title={headers.login}\r\n          buttonStyle={[styleSheet.button, {\r\n            marginBottom: 30\r\n          }]}\r\n          onPress={goToHomePage}\r\n        />\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default FCLogin;\r\n\r\n"]},"metadata":{},"sourceType":"module"}