{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vmage\\\\OneDrive\\\\Ruppin\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\\\Proj_July_RN\\\\FunctionalComponents\\\\FCUserComments.js\";\nimport React, { useState, useEffect } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Avatar, ListItem, Text } from 'react-native-elements';\nimport helpers from \"../helpers/helperFunctions\";\nimport styleSheet from \"../Pages/PageStyle\";\nimport headers from \"../helpers/messages.json\";\nexport default function FCUserComments(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      comments = _useState2[0],\n      setComments = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setisLoaded = _useState4[1];\n\n  useEffect(function () {\n    getComments();\n    var interval = setInterval(function () {\n      getComments();\n    }, 5000);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, []);\n\n  var getComments = function getComments() {\n    fetch(helpers.getApi() + 'WineComment/wineId?Id=' + props.wineId, {\n      method: 'GET',\n      headers: new Headers({\n        'Content-Type': 'application/json; charset=UTF-8',\n        'Accept': 'application/json; charset=UTF-8'\n      })\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setComments(result);\n    }).then(function () {\n      setisLoaded(true);\n    }, function (error) {\n      console.log(\"err post=\", error);\n    });\n  };\n\n  if (loaded && comments.length > 0) {\n    return React.createElement(ScrollView, {\n      horizontal: false,\n      pagingEnabled: true,\n      showsVerticalScrollIndicator: false,\n      style: styleSheet.container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, comments.map(function (i) {\n      return React.createElement(ListItem, {\n        key: i.id,\n        bottomDivider: true,\n        style: {\n          display: 'flex'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, React.createElement(ListItem.Content, {\n        style: {\n          flex: 1,\n          marginRight: 50\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      }, React.createElement(ListItem.Subtitle, {\n        style: {\n          textAlign: 'right'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }\n      }, helpers.ReturnDate(i.date)), React.createElement(ListItem.Title, {\n        style: {\n          textAlign: 'right'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 33\n        }\n      }, i.text)), React.createElement(ListItem.Content, {\n        style: {\n          flex: 0.5\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }, React.createElement(Avatar, {\n        source: {\n          uri: i.UserPitcure\n        },\n        size: \"medium\",\n        rounded: true,\n        containerStyle: [styleSheet.avatar, styleSheet.avatarReg],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      })));\n    }));\n  } else if (loaded && comments.length == 0) {\n    return React.createElement(View, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        padding: 20,\n        textAlign: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, headers.noComments));\n  } else if (!loaded) {\n    return React.createElement(ActivityIndicator, {\n      size: \"small\",\n      color: \"#691A1A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    });\n  }\n}","map":{"version":3,"sources":["C:/Users/vmage/OneDrive/Ruppin/שנה ג/סמסטר ב/Proj_July_RN/FunctionalComponents/FCUserComments.js"],"names":["React","useState","useEffect","Avatar","ListItem","Text","helpers","styleSheet","headers","FCUserComments","props","comments","setComments","loaded","setisLoaded","getComments","interval","setInterval","clearInterval","fetch","getApi","wineId","method","Headers","then","res","json","result","error","console","log","length","container","map","i","id","display","flex","marginRight","textAlign","ReturnDate","date","text","uri","UserPitcure","avatar","avatarReg","padding","noComments"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { ActivityIndicator, View } from 'react-native';\r\nimport { ScrollView } from 'react-native';\r\nimport { Avatar, ListItem, Text } from 'react-native-elements';\r\nimport helpers from '../helpers/helperFunctions';\r\nimport styleSheet from '../Pages/PageStyle';\r\nimport headers from '../helpers/messages.json';\r\n\r\nexport default function FCUserComments(props) {\r\n    const [comments, setComments] = useState([]);\r\n    const [loaded, setisLoaded] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getComments();\r\n        const interval = setInterval(() => {\r\n            getComments();\r\n          }, 5000);\r\n          return () => clearInterval(interval);\r\n    }, [])\r\n\r\n    //https://proj.ruppin.ac.il/bgroup15/prod/api/WineComment/wineId?Id=5\r\n    const getComments = () => {\r\n        fetch(helpers.getApi() + 'WineComment/wineId?Id=' + props.wineId,\r\n            {\r\n                method: 'GET',\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json; charset=UTF-8',\r\n                    'Accept': 'application/json; charset=UTF-8',\r\n                })\r\n            })\r\n            .then(res => {\r\n                return res.json();\r\n            })\r\n            .then(\r\n                (result) => {\r\n                    setComments(result);\r\n                })\r\n            .then(\r\n                () => { setisLoaded(true) }\r\n                ,\r\n                (error) => {\r\n                    console.log(\"err post=\", error);\r\n                });\r\n    }\r\n\r\n    if (loaded && comments.length > 0) {\r\n        return (\r\n                <ScrollView\r\n                    horizontal={false}\r\n                    pagingEnabled={true}\r\n                    showsVerticalScrollIndicator={false}\r\n                    style={styleSheet.container}\r\n                >\r\n                    {comments.map(i => (\r\n                        <ListItem\r\n                            key={i.id}\r\n                            bottomDivider\r\n                            style={{display:'flex' }}\r\n                        >\r\n                            <ListItem.Content style={{flex:1, marginRight:50}}>\r\n                                <ListItem.Subtitle style={{ textAlign: 'right' }}>{helpers.ReturnDate(i.date)}</ListItem.Subtitle>\r\n                                <ListItem.Title style={{ textAlign: 'right' }}>{i.text}</ListItem.Title>\r\n                            </ListItem.Content>\r\n                            <ListItem.Content style={{flex:0.5}}>\r\n                            <Avatar\r\n                                    source={{ uri: i.UserPitcure }}\r\n                                    size='medium'\r\n                                    rounded={true}\r\n                                    containerStyle={[styleSheet.avatar, styleSheet.avatarReg]} />\r\n                            </ListItem.Content>\r\n                        </ListItem>\r\n                    ))}\r\n                </ScrollView>\r\n        )\r\n    }\r\n    else if (loaded && comments.length == 0) {\r\n        return (\r\n            <View>\r\n                <Text style={{ padding: 20, textAlign: 'right' }}>{headers.noComments}\r\n                </Text>\r\n            </View>\r\n        )\r\n    }\r\n    else if (!loaded) {\r\n        return (\r\n            <ActivityIndicator size='small' color='#691A1A' />\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}