{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vmage\\\\OneDrive\\\\Ruppin\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\\\Proj_July_RN\\\\FunctionalComponents\\\\FCWines.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Text } from 'react-native-elements';\nimport styleSheet from \"../Pages/PageStyle\";\nimport helpers from \"../helpers/helperFunctions\";\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { useNavigation } from '@react-navigation/native';\nimport FCLikes from \"./FCLikes\";\nimport FCWineryAvatar from \"./FCWineryAvatar\";\n\nfunction FCWines(props) {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      wines = _useState2[0],\n      setWines = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isLoaded = _useState4[0],\n      setisLoaded = _useState4[1];\n\n  var navigation = useNavigation();\n  useEffect(function () {\n    getWines();\n  }, []);\n\n  function getWines() {\n    return _regeneratorRuntime.async(function getWines$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(helpers.getApi() + '/Wine/GetAllWines', {\n              method: 'GET',\n              headers: new Headers({\n                'Content-Type': 'application/json; charset=UTF-8',\n                'Accept': 'application/json; charset=UTF-8'\n              })\n            }).then(function (res) {\n              return res.json();\n            }).then(function (result) {\n              setWines(result);\n            }).then(function () {\n              setisLoaded(true);\n            }, function (error) {\n              console.log(\"err post=\", error);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  if (isLoaded) {\n    return React.createElement(ScrollView, {\n      horizontal: true,\n      pagingEnabled: true,\n      style: styleSheet.scrollView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }\n    }, React.createElement(View, {\n      style: {\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, wines.map(function (item) {\n      return React.createElement(View, {\n        key: item.wineId,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styleSheet.rowEvents,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }\n      }, React.createElement(FCWineryAvatar, {\n        wineryName: item.wineryName,\n        wineryImage: item.wineryImage,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: {\n          flexDirection: 'row-reverse',\n          justifyContent: 'space-evenly',\n          marginTop: 10\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate('Login', {\n            screen: 'wine',\n            params: {\n              name: item.wineName,\n              image: item.wineImgPath,\n              content: item.content,\n              id: item.wineId,\n              price: item.price,\n              wineryImage: item.wineryImage,\n              areaCategoryName: item.areaCategoryName,\n              wineryName: item.wineryName,\n              rate: item.rate\n            }\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'column',\n          justifyContent: 'space-evenly'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row-reverse',\n          alignItems: 'center'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }\n      }, React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: item.wineImgPath\n        },\n        style: styleSheet.wine,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 27\n        }\n      })), React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: {\n          height: 60,\n          width: 60,\n          borderRadius: 30,\n          borderWidth: 4,\n          borderColor: '#691A1A',\n          color: '#691A1A',\n          borderStyle: 'solid',\n          fontSize: 20,\n          textAlign: 'center',\n          textAlignVertical: 'center',\n          padding: 14\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 27\n        }\n      }, Number(item.rate).toFixed(1), \" \"))), React.createElement(View, {\n        style: {\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        h4: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, item.wineName), React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, item.content)))))), React.createElement(View, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }, React.createElement(FCLikes, {\n        likes: item.likes,\n        entityId: item.wineId,\n        entityType: 2,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      })));\n    })));\n  } else {\n    return React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: \"#691A1A\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    });\n  }\n}\n\nexport default FCWines;","map":{"version":3,"sources":["C:/Users/vmage/OneDrive/Ruppin/שנה ג/סמסטר ב/Proj_July_RN/FunctionalComponents/FCWines.js"],"names":["React","useState","useEffect","Text","styleSheet","helpers","TouchableOpacity","useNavigation","FCLikes","FCWineryAvatar","FCWines","props","wines","setWines","isLoaded","setisLoaded","navigation","getWines","fetch","getApi","method","headers","Headers","then","res","json","result","error","console","log","scrollView","flexDirection","map","item","wineId","rowEvents","wineryName","wineryImage","justifyContent","marginTop","navigate","screen","params","name","wineName","image","wineImgPath","content","id","price","areaCategoryName","rate","alignItems","uri","wine","height","width","borderRadius","borderWidth","borderColor","color","borderStyle","fontSize","textAlign","textAlignVertical","padding","Number","toFixed","likes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, } from 'react';\r\nimport { View, Image, ActivityIndicator, ScrollView } from 'react-native';\r\nimport { Text } from 'react-native-elements'\r\nimport styleSheet from '../Pages/PageStyle'\r\nimport helpers from '../helpers/helperFunctions';\r\nimport { TouchableOpacity } from 'react-native-gesture-handler';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport FCLikes from './FCLikes';\r\nimport FCWineryAvatar from './FCWineryAvatar';\r\n\r\n\r\nfunction FCWines(props) {\r\n  const [wines, setWines] = useState([]);\r\n  const [isLoaded, setisLoaded] = useState(false);\r\n\r\n  const navigation = useNavigation();\r\n\r\n  useEffect(() => {\r\n    getWines();\r\n  }, []);\r\n\r\n  async function getWines() {\r\n    await fetch(helpers.getApi() + '/Wine/GetAllWines',\r\n      {\r\n        method: 'GET',\r\n        headers: new Headers({\r\n          'Content-Type': 'application/json; charset=UTF-8',\r\n          'Accept': 'application/json; charset=UTF-8',\r\n        })\r\n      })\r\n      .then(res => {\r\n        return res.json();\r\n      })\r\n      .then(\r\n        (result) => {\r\n          setWines(result);\r\n        })\r\n      .then(\r\n        () => { setisLoaded(true) }\r\n        ,\r\n        (error) => {\r\n          console.log(\"err post=\", error);\r\n        });\r\n\r\n  }\r\n\r\n  if (isLoaded) {\r\n    return (\r\n      <ScrollView\r\n        horizontal={true}\r\n        pagingEnabled={true}\r\n        style={styleSheet.scrollView}>\r\n        <View style={{ flexDirection: 'row' }}>\r\n          {wines.map(item => (\r\n            <View key={item.wineId} >\r\n              <View style={styleSheet.rowEvents}>\r\n                <FCWineryAvatar wineryName={item.wineryName} wineryImage={item.wineryImage} />\r\n                <View style={{ flexDirection: 'row-reverse', justifyContent: 'space-evenly', marginTop: 10 }}>\r\n                  <TouchableOpacity\r\n                    onPress={\r\n                      () => {\r\n                        navigation.navigate('Login', {\r\n                          screen: 'wine',\r\n                          params: {\r\n                            name: item.wineName,\r\n                            image: item.wineImgPath,\r\n                            content: item.content,\r\n                            id: item.wineId,\r\n                            price: item.price,\r\n                            wineryImage: item.wineryImage,\r\n                            areaCategoryName: item.areaCategoryName,\r\n                            wineryName: item.wineryName,\r\n                            rate: item.rate\r\n                          }\r\n                        });\r\n                      }\r\n                    }>\r\n                    <View style={{ flexDirection: 'column', justifyContent: 'space-evenly' }}>\r\n                      <View style={{ flexDirection: 'row-reverse', alignItems: 'center' }}>\r\n                        <View >\r\n                          <Image\r\n                            source={{ uri: item.wineImgPath }}\r\n                            style={styleSheet.wine} />\r\n\r\n                        </View>\r\n                        <View>\r\n                          <Text style={{\r\n                            height: 60,\r\n                            width: 60,\r\n                            borderRadius: 30,\r\n                            borderWidth: 4,\r\n                            borderColor: '#691A1A',\r\n                            color: '#691A1A',\r\n                            borderStyle: 'solid',\r\n                            fontSize: 20,\r\n                            textAlign: 'center',\r\n                            textAlignVertical: 'center',\r\n                            padding: 14\r\n                          }}>\r\n                            {Number(item.rate).toFixed(1)} </Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flexDirection: 'column', alignItems: 'center' }}>\r\n                        <Text h4>{item.wineName}</Text>\r\n                        <Text>{item.content}</Text>\r\n                      </View>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n              <View>\r\n                <FCLikes likes={item.likes} entityId={item.wineId} entityType={2} />\r\n              </View>\r\n            </View>\r\n\r\n          ))}\r\n        </View>\r\n      </ScrollView>\r\n\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <ActivityIndicator size='large' color='#691A1A' />\r\n    )\r\n  }\r\n}\r\nexport default FCWines;"]},"metadata":{},"sourceType":"module"}